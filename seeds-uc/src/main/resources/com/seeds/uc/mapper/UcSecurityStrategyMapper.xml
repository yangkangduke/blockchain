<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.seeds.uc.mapper.UcSecurityStrategyMapper">
    <resultMap id="BaseResultMap" type="com.seeds.uc.model.UcSecurityStrategy">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Aug 26 18:47:25 CST 2020.
        -->
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="uid" jdbcType="BIGINT" property="uid"/>
        <result column="need_auth" jdbcType="TINYINT" property="needAuth"/>
        <result column="auth_type" jdbcType="SMALLINT" property="authType"
                typeHandler="com.seeds.uc.enums.handler.ClientAuthTypeHandler"/>
        <result column="created_at" jdbcType="BIGINT" property="createdAt"/>
        <result column="updated_at" jdbcType="BIGINT" property="updatedAt"/>
    </resultMap>
    <sql id="mainColumns">
        id, uid, need_auth, auth_type, created_at, updated_at
    </sql>
    <select id="getByUserId" resultType="com.seeds.uc.dto.response.UcSecurityStrategyResp">
        SELECT
            t.uid,
            t.need_auth,
            t.auth_type
        FROM
            uc_security_strategy t
        WHERE t.uid = #{userId}
    </select>

    <select id="listByUid" resultMap="BaseResultMap">
        select
        <include refid="mainColumns"/>
        from uc_security_strategy
        where uid = #{uid}
    </select>
</mapper>
