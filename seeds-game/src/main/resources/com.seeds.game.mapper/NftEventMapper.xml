<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.seeds.game.mapper.NftEventMapper">

    <update id="updateClick">
        update ga_nft_event
        set click = 1
        where type = #{type}
          and user_id = #{userId}

    </update>
    <select id="getTypeCount" resultType="com.seeds.game.dto.response.EventTypeNum">

        select distinct t1.type, ifnull(t2.num, 0) num
        from (select `type` from ga_nft_event) t1
                 left join
             (select `type` as type, count(*) num
              from ga_nft_event
              where user_id = 36
                and click = 0
              group by type) t2 on t1.type = t2.type
    </select>


</mapper>
