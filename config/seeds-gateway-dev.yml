server:
  port: 9999

spring:
  application:
    name: seeds-gateway

  cloud:
    gateway:
      routes:
        - id: seeds-uc-service
          uri: http://Seeds-uc:10101
          predicates:
            - Path=/uc/**
          filters:
            - Auth
        - id: seeds-admin-service
          uri: http://Seeds-admin:10102/
          predicates:
            - Path=/admin/**
          filters:           #网关过滤器；
            - AdminAuth
      globalcors:
        cors-configurations:
          '[/**]':
            allowedOrigins: "*"
            allowedHeaders: "*"
            allowedMethods:
              - GET
              - HEAD
              - PUT
              - POST
      default-filters:          #默认的网关过滤器
        - StripPrefix=1         #分割掉一个路径；
        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin
        - AddResponseHeader=Access-Control-Allow-Credentials, true
        - AddResponseHeader=Access-Control-Allow-Origin, *
        - name: RequestRateLimiter
          args:
            key-resolver: '#{@defaultResolver}'       #使用SpEl 表达式按名称引用bean对象
            redis-rate-limiter.replenishRate: 5       #令牌桶每秒填充速率；
            redis-rate-limiter.burstCapacity: 10      #令牌桶总容量；

